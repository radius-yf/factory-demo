<svg xmlns="http://www.w3.org/2000/svg" [attr.viewBox]="[0, 0, width, height]">
  <g d-zoom [dZoomPosition]="'center'" #map="dZoom">
    <g>
      <image
        width="1197"
        height="658"
        href="../../../assets/工厂布局.png"
      ></image>
      <g *ngFor="let item of areas">
        <image
          [attr.x]="item.x - 36"
          [attr.y]="item.y - 34"
          width="180"
          height="58"
          [attr.href]="item === current ? '../../../assets/车间选中背景.png' : '../../../assets/车间未选中.png'"
        ></image>
        <foreignObject
          [attr.x]="item.x - 36"
          [attr.y]="item.y - 34"
          (click)="onClick(item)"
          width="180"
          height="58"
        >
          <div style="line-height: 58px; text-align: center;color:var(--primary)">
            {{ item.line }}
          </div>
        </foreignObject>
      </g>
    </g>
  </g>

  <line
    stroke="#123164"
    [attr.x1]="current.x + map.position.x + 20.5"
    [attr.y1]="current.y + map.position.y + 14.5"
    [attr.x2]="gFo.position.x + 5"
    [attr.y2]="gFo.position.y + 5"
  ></line>
  <g d-zoom #gFo="dZoom">
    <foreignObject x="500" y="600" width="354" height="265">
      <div class="window">
        <div class="top">{{ current.area }}({{ current.line }})</div>
      </div>
    </foreignObject>
  </g>
</svg>
